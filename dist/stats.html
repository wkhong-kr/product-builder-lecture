
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œë˜ ë‹¹ì²¨ í†µê³„ ëŒ€ì‹œë³´ë“œ - ë¡œë˜ë§¤ë‹ˆì•„</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .stats-container {
            max-width: 1100px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .chart-card {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }
        .chart-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }
        .store-search-section {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 16px;
            border: 1px solid var(--border-color);
        }
        .search-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 0.8rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-main);
        }
        .region-select {
            padding: 0.8rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-main);
        }
        .store-table {
            width: 100%;
            border-collapse: collapse;
        }
        .store-table th, .store-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        .store-table th {
            background: var(--bg-color);
            font-weight: 700;
        }
        .rank-badge {
            background: var(--secondary-color);
            color: #1a365d;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 800;
            font-size: 0.8rem;
        }
        .count-badge {
            background: #e0f2fe;
            color: #0369a1;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.85rem;
        }
        [data-theme="dark"] .count-badge {
            background: #0c4a6e;
            color: #7dd3fc;
        }
    </style>
</head>
<body>
    <header>
        <nav class="nav-container">
            <div class="logo">ğŸ€ ë¡œë˜ë§¤ë‹ˆì•„ í†µê³„</div>
            <ul class="nav-links">
                <li><a href="index.html">í™ˆìœ¼ë¡œ</a></li>
                <li><a href="about.html">ì†Œê°œ</a></li>
            </ul>
            <button id="theme-btn">ğŸŒ™</button>
        </nav>
    </header>

    <main class="stats-container">
        <section style="text-align: center; margin-bottom: 3rem; background: none; border: none; box-shadow: none;">
            <h1 style="font-size: 2.2rem; margin-bottom: 0.5rem;">ğŸ“Š ë¡œë˜ ë‹¹ì²¨ ë°ì´í„° ë¶„ì„</h1>
            <p style="color: var(--text-muted);">ì—­ëŒ€ ë‹¹ì²¨ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¶„ì„í•œ ê°€ì¥ í™•ë¥  ë†’ì€ ë°œê¶Œ ì •ë³´ì…ë‹ˆë‹¤.</p>
        </section>

        <div class="dashboard-grid">
            <div class="chart-card">
                <h3><i data-lucide="calendar"></i> ìš”ì¼ë³„ ë‹¹ì²¨ ë¹„ì¤‘ (%)</h3>
                <canvas id="dayChart"></canvas>
            </div>
            <div class="chart-card">
                <h3><i data-lucide="clock"></i> ì‹œê°„ëŒ€ë³„ ë‹¹ì²¨ ë¹„ì¤‘ (%)</h3>
                <canvas id="hourChart"></canvas>
            </div>
            <div class="chart-card">
                <h3><i data-lucide="pie-chart"></i> ìë™/ìˆ˜ë™ ë‹¹ì²¨ ë¹„ìœ¨</h3>
                <canvas id="ratioChart"></canvas>
            </div>
        </div>

        <section class="store-search-section">
            <h2 style="display: flex; align-items: center; gap: 10px; margin-bottom: 1.5rem;">
                <i data-lucide="map-pin" style="color: #ef4444;"></i> ì „êµ­ ë¡œë˜ 1ë“± ëª…ë‹¹ ì°¾ê¸°
            </h2>
            <div class="search-controls">
                <input type="text" id="storeSearch" class="search-input" placeholder="ìƒí˜¸ëª… ë˜ëŠ” ì£¼ì†Œ ê²€ìƒ‰...">
                <select id="regionFilter" class="region-select">
                    <option value="ì „ì²´">ì „êµ­ ì „ì²´</option>
                    <option value="ì„œìš¸">ì„œìš¸</option>
                    <option value="ê²½ê¸°">ê²½ê¸°</option>
                    <option value="ë¶€ì‚°">ë¶€ì‚°</option>
                    <option value="ëŒ€êµ¬">ëŒ€êµ¬</option>
                    <option value="ì¸ì²œ">ì¸ì²œ</option>
                    <option value="ê²½ë‚¨">ê²½ë‚¨</option>
                </select>
            </div>
            <div style="overflow-x: auto;">
                <table class="store-table">
                    <thead>
                        <tr>
                            <th>ìˆœìœ„</th>
                            <th>ìƒí˜¸ëª…</th>
                            <th>1ë“± íšŸìˆ˜</th>
                            <th>ì§€ì—­</th>
                            <th>ì£¼ì†Œ</th>
                        </tr>
                    </thead>
                    <tbody id="storeTableBody">
                        <!-- ë°ì´í„°ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2026 ë¡œë˜ë§¤ë‹ˆì•„. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // í†µê³„ ë°ì´í„°
        const DAY_DATA = {
            labels: ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '],
            values: [12, 11, 13, 14, 18, 32]
        };

        const HOUR_DATA = {
            labels: ['09~12ì‹œ', '12~15ì‹œ', '15~18ì‹œ', '18~21ì‹œ'],
            values: [15, 22, 35, 28]
        };

        const RATIO_DATA = {
            labels: ['ìë™', 'ìˆ˜ë™', 'ë°˜ìë™'],
            values: [68.5, 26.3, 5.2]
        };

        const LUCKY_STORES = [
            { name: 'ìŠ¤íŒŒ', count: 50, region: 'ì„œìš¸', address: 'ì„œìš¸ ë…¸ì›êµ¬ ë™ì¼ë¡œ 1493 ìƒê³„ì£¼ê³µì•„íŒŒíŠ¸' },
            { name: 'ë¶€ì¼ì¹´ì„œë¹„ìŠ¤', count: 42, region: 'ë¶€ì‚°', address: 'ë¶€ì‚° ë™êµ¬ ìì„±ë¡œ133ë²ˆê¸¸ 35' },
            { name: 'ì¼ë“±ë³µê¶Œí¸ì˜ì ', count: 35, region: 'ëŒ€êµ¬', address: 'ëŒ€êµ¬ ë‹¬ì„œêµ¬ ëŒ€ì„¸ë¡œ 20' },
            { name: 'ì„¸ì§„ì „ìí†µì‹ ', count: 28, region: 'ëŒ€êµ¬', address: 'ëŒ€êµ¬ ì„œêµ¬ ì„œëŒ€êµ¬ë¡œ 156' },
            { name: 'ë¡œë˜íœ´ê²Œì‹¤', count: 25, region: 'ê²½ê¸°', address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ìš©êµ¬ëŒ€ë¡œ 1885' },
            { name: 'ëª©í™”íœ´ê²Œì†Œ', count: 22, region: 'ê²½ë‚¨', address: 'ê²½ë‚¨ ì‚¬ì²œì‹œ ì‚¬ì²œëŒ€ë¡œ 912' },
            { name: 'ì ì‹¤ë§¤ì ', count: 20, region: 'ì„œìš¸', address: 'ì„œìš¸ ì†¡íŒŒêµ¬ ì˜¬ë¦¼í”½ë¡œ 269 ì ì‹¤ì—­' }
        ];

        // ì°¨íŠ¸ ì´ˆê¸°í™”
        function initCharts() {
            const ctxDay = document.getElementById('dayChart').getContext('2d');
            new Chart(ctxDay, {
                type: 'bar',
                data: {
                    labels: DAY_DATA.labels,
                    datasets: [{
                        label: 'ë‹¹ì²¨ ë¹„ì¤‘',
                        data: DAY_DATA.values,
                        backgroundColor: '#3b82f6',
                        borderRadius: 6
                    }]
                },
                options: { responsive: true, plugins: { legend: { display: false } } }
            });

            const ctxHour = document.getElementById('hourChart').getContext('2d');
            new Chart(ctxHour, {
                type: 'line',
                data: {
                    labels: HOUR_DATA.labels,
                    datasets: [{
                        label: 'ë‹¹ì²¨ ë¹„ì¤‘',
                        data: HOUR_DATA.values,
                        borderColor: '#f59e0b',
                        tension: 0.4,
                        fill: true,
                        backgroundColor: 'rgba(245, 158, 11, 0.1)'
                    }]
                }
            });

            const ctxRatio = document.getElementById('ratioChart').getContext('2d');
            new Chart(ctxRatio, {
                type: 'doughnut',
                data: {
                    labels: RATIO_DATA.labels,
                    datasets: [{
                        data: RATIO_DATA.values,
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b']
                    }]
                }
            });
        }

        // ëª…ë‹¹ í…Œì´ë¸” ë Œë”ë§
        function renderStores(filterText = '', region = 'ì „ì²´') {
            const tbody = document.getElementById('storeTableBody');
            tbody.innerHTML = '';

            const filtered = LUCKY_STORES.filter(store => {
                const matchRegion = region === 'ì „ì²´' || store.region === region;
                const matchText = store.name.includes(filterText) || store.address.includes(filterText);
                return matchRegion && matchText;
            });

            filtered.forEach((store, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td><span class="rank-badge">${index + 1}</span></td>
                    <td style="font-weight:700;">${store.name}</td>
                    <td><span class="count-badge">${store.count}íšŒ</span></td>
                    <td>${store.region}</td>
                    <td style="font-size:0.85rem; color:var(--text-muted);">${store.address}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('storeSearch').addEventListener('input', (e) => {
            renderStores(e.target.value, document.getElementById('regionFilter').value);
        });

        document.getElementById('regionFilter').addEventListener('change', (e) => {
            renderStores(document.getElementById('storeSearch').value, e.target.value);
        });

        // í…Œë§ˆ í† ê¸€ (ê¸°ì¡´ main.js ë¡œì§ ì—°ë™)
        document.getElementById('theme-btn').addEventListener('click', () => {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', newTheme);
            document.getElementById('theme-btn').innerText = newTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
            localStorage.setItem('lotto-theme', newTheme);
        });

        // ì´ˆê¸°í™” ì‹¤í–‰
        window.onload = () => {
            lucide.createIcons();
            initCharts();
            renderStores();
            
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í…Œë§ˆ ë°˜ì˜
            const savedTheme = localStorage.getItem('lotto-theme');
            if (savedTheme) {
                document.body.setAttribute('data-theme', savedTheme);
                document.getElementById('theme-btn').innerText = savedTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
            }
        };
    </script>
</body>
</html>
