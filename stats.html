<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë¡œë˜ ë‹¹ì²¨ í†µê³„ ëŒ€ì‹œë³´ë“œ - 1st lotto</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
    
    /* ì°¨íŠ¸ ì„¹ì…˜ */
    .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
    .chart-card { background: var(--card-bg); padding: 1.5rem; border-radius: 16px; border: 1px solid var(--border-color); box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    .chart-card h3 { display: flex; align-items: center; gap: 10px; margin-bottom: 1.5rem; color: var(--primary-color); font-size: 1.1rem; }
    .chart-wrapper { position: relative; height: 220px; width: 100%; }
    
    /* ëª…ë‹¹ ì„¹ì…˜ ê°œì„  */
    .store-section { background: var(--card-bg); padding: 2rem; border-radius: 20px; border: 1px solid var(--border-color); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05); }
    .filter-group { display: flex; gap: 10px; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .search-input { flex: 1; min-width: 200px; padding: 12px 16px; border: 1.5px solid var(--border-color); border-radius: 10px; outline: none; transition: border-color 0.2s; background: var(--bg-color); color: var(--text-main); }
    .search-input:focus { border-color: #3b82f6; }
    .region-select { padding: 12px 16px; border: 1.5px solid var(--border-color); border-radius: 10px; background: var(--bg-color); color: var(--text-main); cursor: pointer; }

    /* í…Œì´ë¸” ë ˆì´ì•„ì›ƒ ìµœì í™” */
    .table-wrapper { overflow-x: auto; border-radius: 12px; border: 1px solid var(--border-color); background: var(--card-bg); margin-bottom: 1.5rem; }
    .store-table { width: 100%; border-collapse: collapse; min-width: 700px; table-layout: fixed; }
    .store-table th { background: var(--bg-color); padding: 15px; text-align: left; font-weight: 700; color: var(--text-muted); font-size: 0.9rem; border-bottom: 2px solid var(--border-color); }
    .store-table td { padding: 15px; border-bottom: 1px solid var(--border-color); font-size: 0.95rem; vertical-align: middle; color: var(--text-main); }
    .store-table tr:hover { background-color: rgba(0,0,0,0.02); }
    
    /* ì£¼ì†Œ ë§í¬ ìŠ¤íƒ€ì¼ */
    .address-link { color: var(--text-muted); text-decoration: none; display: flex; align-items: center; gap: 5px; transition: color 0.2s; }
    .address-link:hover { color: #2563eb; text-decoration: underline; }
    
    /* í”„ë¦¬ë¯¸ì—„ ë°°ì§€ ìŠ¤íƒ€ì¼ */
    .rank-badge { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; border-radius: 8px; font-weight: 800; font-size: 0.8rem; color: #475569; background: #f1f5f9; }
    .rank-1 { background: linear-gradient(135deg, #fcd34d 0%, #fbbf24 100%); color: #92400e; box-shadow: 0 2px 4px rgba(251, 191, 36, 0.3); border: 1px solid #f59e0b; }
    .rank-2 { background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%); color: #475569; box-shadow: 0 2px 4px rgba(203, 213, 225, 0.3); border: 1px solid #94a3b8; }
    .rank-3 { background: linear-gradient(135deg, #fdba74 0%, #f97316 100%); color: #7c2d12; box-shadow: 0 2px 4px rgba(249, 115, 22, 0.3); border: 1px solid #ea580c; }
    
    .region-badge { display: inline-block; padding: 4px 10px; background: var(--bg-color); color: var(--text-muted); border-radius: 6px; font-size: 0.8rem; font-weight: 600; }
    .count-badge { display: inline-block; padding: 4px 12px; background: #eff6ff; color: #2563eb; border-radius: 20px; font-size: 0.85rem; font-weight: 700; white-space: nowrap; }
    
    /* í˜ì´ì§€ë„¤ì´ì…˜ */
    .pagination { display: flex; justify-content: center; gap: 5px; margin-top: 2rem; }
    .page-btn { padding: 8px 14px; border: 1px solid var(--border-color); background: var(--card-bg); border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 0.9rem; color: var(--text-muted); transition: all 0.2s; }
    .page-btn:hover:not(.disabled) { border-color: #3b82f6; color: #3b82f6; background: #eff6ff; }
    .page-btn.active { background: #3b82f6; color: white; border-color: #3b82f6; }
    .page-btn.disabled { opacity: 0.5; cursor: not-allowed; }

    .no-result { text-align: center; padding: 40px; color: #94a3b8; }
  </style>
</head>
<body>
  <header>
    <nav class="nav-container">
      <div class="logo">ğŸ€ 1st lotto í†µê³„</div>
      <ul class="nav-links">
        <li><a href="index.html">í™ˆ</a></li>
        <li><a href="stats.html">í†µê³„ ëŒ€ì‹œë³´ë“œ</a></li>
        <li><a href="about.html">ì†Œê°œ</a></li>
        <li><a href="privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
      </ul>
      <button id="theme-btn">ğŸŒ™</button>
    </nav>
  </header>

  <main class="container main-layout">
    <div class="content-area">
      <div style="text-align: center; margin-bottom: 2rem;">
        <h1 style="font-size: 2rem; color: var(--primary-color); margin-bottom: 0.5rem;">ğŸ“Š ë‹¹ì²¨ í™•ë¥  ë¶„ì„ ëŒ€ì‹œë³´ë“œ</h1>
        <p style="color: var(--text-muted);">ì „êµ­ 1ë“± ë°°ì¶œ ì í¬ì™€ í™•ë¥  í†µê³„ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
      </div>

      <!-- ìƒë‹¨ ê´‘ê³  -->
      <div class="ad-container ad-top">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
             data-ad-slot="1111111111"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
      </div>

      <div class="dashboard-grid">
        <div class="chart-card">
          <h3><i data-lucide="calendar"></i> ìš”ì¼ë³„ ë¹„ì¤‘</h3>
          <div class="chart-wrapper"><canvas id="dayChart"></canvas></div>
        </div>
        <div class="chart-card">
          <h3><i data-lucide="clock"></i> ì‹œê°„ëŒ€ë³„ ë¹„ì¤‘</h3>
          <div class="chart-wrapper"><canvas id="hourChart"></canvas></div>
        </div>
        <div class="chart-card">
          <h3><i data-lucide="pie-chart"></i> ìë™/ìˆ˜ë™ ë¹„ìœ¨</h3>
          <div class="chart-wrapper"><canvas id="ratioChart"></canvas></div>
        </div>
      </div>

      <!-- ì¤‘ê°„ ê´‘ê³  -->
      <div class="ad-container ad-mid">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-format="fluid"
             data-ad-layout-key="-fb+5w+4e-db+86"
             data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
             data-ad-slot="2222222222"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
      </div>

      <section class="store-section">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
          <h2 style="display: flex; align-items: center; gap: 10px; margin: 0; color: var(--primary-color); font-size: 1.5rem;"><i data-lucide="map-pin" style="color: #ef4444;"></i> ì „êµ­ ëª…ë‹¹ ë¦¬ìŠ¤íŠ¸</h2>
          <div class="filter-group" style="margin-bottom: 0;">
            <select id="regionFilter" class="region-select">
              <option value="ì „ì²´">ì „êµ­ ì „ì²´</option>
              <option value="ì„œìš¸">ì„œìš¸</option><option value="ê²½ê¸°">ê²½ê¸°</option>
              <option value="ë¶€ì‚°">ë¶€ì‚°</option><option value="ëŒ€êµ¬">ëŒ€êµ¬</option>
              <option value="ì¸ì²œ">ì¸ì²œ</option><option value="ê´‘ì£¼">ê´‘ì£¼</option>
              <option value="ëŒ€ì „">ëŒ€ì „</option><option value="ìš¸ì‚°">ìš¸ì‚°</option>
              <option value="ê°•ì›">ê°•ì›</option><option value="ì¶©ë¶">ì¶©ë¶</option>
              <option value="ì¶©ë‚¨">ì¶©ë‚¨</option><option value="ì „ë¶">ì „ë¶</option>
              <option value="ì „ë‚¨">ì „ë‚¨</option><option value="ê²½ë¶">ê²½ë¶</option>
              <option value="ê²½ë‚¨">ê²½ë‚¨</option><option value="ì œì£¼">ì œì£¼</option>
            </select>
            <input type="text" id="storeSearch" class="search-input" placeholder="ìƒí˜¸ëª… ë˜ëŠ” ì£¼ì†Œ ê²€ìƒ‰...">
          </div>
        </div>

        <div class="table-wrapper">
          <table class="store-table">
            <thead>
              <tr>
                <th style="width: 60px;">ìˆœìœ„</th>
                <th style="width: 150px;">ìƒí˜¸ëª…</th>
                <th style="width: 100px;">1ë“±</th>
                <th style="width: 80px;">ì§€ì—­</th>
                <th>ìƒì„¸ ì£¼ì†Œ</th>
              </tr>
            </thead>
            <tbody id="storeTableBody"></tbody>
          </table>
          <div id="noResult" class="no-result" style="display: none;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
        </div>
        
        <div id="pagination" class="pagination"></div>
      </section>

      <!-- í•˜ë‹¨ ê´‘ê³  -->
      <div class="ad-container ad-bottom">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
             data-ad-slot="3333333333"
             data-ad-format="autorelaxed"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
      </div>
    </div>

    <!-- ì‚¬ì´ë“œë°” ê´‘ê³  -->
    <aside class="sidebar">
      <div class="sticky-sidebar">
        <div class="ad-container ad-sidebar">
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
               data-ad-slot="4444444444"
               data-ad-format="vertical"></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
        
        <div class="sidebar-info-card">
          <h3>ğŸ”” ì•Œë¦¼</h3>
          <p>ë¡œë˜ ë‹¹ì²¨ ë°ì´í„°ëŠ” ë§¤ì£¼ í† ìš”ì¼ ì¶”ì²¨ ì§í›„ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.</p>
          <a href="index.html" class="button-link" style="background: white !important; color: var(--primary-color) !important; width: 100%; text-align: center; box-sizing: border-box;">ë²ˆí˜¸ ìƒì„±í•˜ëŸ¬ ê°€ê¸°</a>
        </div>
      </div>
    </aside>
  </main>

  <footer style="background: var(--primary-color); color: white; padding: 4rem 1.5rem; text-align: center; margin-top: 4rem;">
    <div class="footer-content">
      <p>&copy; 2026 1st lotto. All rights reserved.</p>
      <ul class="footer-links" style="list-style: none; display: flex; justify-content: center; gap: 1rem; margin-top: 1rem; padding: 0;">
        <li><a href="stats.html" style="color: #f6ad55; text-decoration: none;">ë‹¹ì²¨ í†µê³„ ëŒ€ì‹œë³´ë“œ</a></li>
        <li><a href="privacy.html" style="color: rgba(255,255,255,0.6); text-decoration: none;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
      </ul>
    </div>
  </footer>

  <script src="main.js"></script>
  <script>
    const DAY_DATA = { labels: ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '], values: [12.5, 11.2, 13.8, 14.1, 18.4, 30.0] };
    const HOUR_DATA = { labels: ['09~12', '12~15', '15~18', '18~21'], values: [15, 22, 35, 28] };
    const RATIO_DATA = { labels: ['ìë™', 'ìˆ˜ë™', 'ë°˜ìë™'], values: [68.5, 26.3, 5.2] };
    
    const STORES = [
      { name: 'ìŠ¤íŒŒ', count: 50, region: 'ì„œìš¸', address: 'ì„œìš¸ ë…¸ì›êµ¬ ë™ì¼ë¡œ 1493 ìƒê³„ì£¼ê³µì•„íŒŒíŠ¸' },
      { name: 'ë¶€ì¼ì¹´ì„œë¹„ìŠ¤', count: 42, region: 'ë¶€ì‚°', address: 'ë¶€ì‚° ë™êµ¬ ìì„±ë¡œ133ë²ˆê¸¸ 35' },
      { name: 'ì¼ë“±ë³µê¶Œí¸ì˜ì ', count: 35, region: 'ëŒ€êµ¬', address: 'ëŒ€êµ¬ ë‹¬ì„œêµ¬ ëŒ€ì„¸ë¡œ 20' },
      { name: 'ì„¸ì§„ì „ìí†µì‹ ', count: 28, region: 'ëŒ€êµ¬', address: 'ëŒ€êµ¬ ì„œêµ¬ ì„œëŒ€êµ¬ë¡œ 156' },
      { name: 'ë¡œë˜íœ´ê²Œì‹¤', count: 25, region: 'ê²½ê¸°', address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ìš©êµ¬ëŒ€ë¡œ 1885' },
      { name: 'ëª©í™”íœ´ê²Œì†Œ', count: 22, region: 'ê²½ë‚¨', address: 'ê²½ë‚¨ ì‚¬ì²œì‹œ ì‚¬ì²œëŒ€ë¡œ 912' },
      { name: 'ì ì‹¤ë§¤ì ', count: 20, region: 'ì„œìš¸', address: 'ì„œìš¸ ì†¡íŒŒêµ¬ ì˜¬ë¦¼í”½ë¡œ 269 ì ì‹¤ì—­' },
      { name: 'í–‰ìš´ë³µê¶Œë°©', count: 18, region: 'ì„œìš¸', address: 'ì„œìš¸ ì„œëŒ€ë¬¸êµ¬ ì˜ì²œì‹œì¥ê¸¸ 56' },
      { name: 'ë‹¤ë‹ˆì—˜ì‚¬', count: 17, region: 'ê²½ê¸°', address: 'ê²½ê¸° ì•ˆì‚°ì‹œ ë‹¨ì›êµ¬ ì›ì„ 1ë¡œ 38' },
      { name: 'ë³µê¶Œëª…ë‹¹', count: 16, region: 'ëŒ€êµ¬', address: 'ëŒ€êµ¬ ë‹¬ì„œêµ¬ ì›”ë°°ë¡œ 452' },
      { name: 'ì”¨ìœ  ê°€í‰ì ', count: 15, region: 'ê²½ê¸°', address: 'ê²½ê¸° ê°€í‰êµ° ê°€í‰ì ì¥í„°ê¸¸ 10' },
      { name: 'ëŒ€ë°•ë³µê¶Œë°©', count: 14, region: 'ì¸ì²œ', address: 'ì¸ì²œ ë¶€í‰êµ¬ ì£¼ë¶€í† ë¡œ 236' },
      { name: 'í–‰ìš´ì˜ì§‘', count: 13, region: 'ê²½ë¶', address: 'ê²½ë¶ ì•ˆë™ì‹œ ê²½ë™ë¡œ 677' },
      { name: 'í™©ê¸ˆë³µê¶Œë°©', count: 12, region: 'ëŒ€ì „', address: 'ëŒ€ì „ ì¤‘êµ¬ ì¤‘ì•™ë¡œ 123' },
      { name: 'ëŒ€ë°•ì°¬ìŠ¤', count: 11, region: 'ì¶©ë‚¨', address: 'ì¶©ë‚¨ ë‹¹ì§„ì‹œ ë°¤ì ˆë¡œ 168' },
      { name: 'ì¢…í•©ë³µê¶Œë°©', count: 10, region: 'ê°•ì›', address: 'ê°•ì› ì¶˜ì²œì‹œ ê¸ˆê°•ë¡œ 81' },
      { name: 'ë‚˜ëˆ”ë¡œë˜', count: 9, region: 'ì„œìš¸', address: 'ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123' },
      { name: 'ë“œë¦¼ë¡œë˜', count: 9, region: 'ê²½ê¸°', address: 'ê²½ê¸° ìˆ˜ì›ì‹œ íŒ”ë‹¬êµ¬ ë§¤ì‚°ë¡œ 2' },
      { name: 'í¬ë§ë³µê¶Œ', count: 8, region: 'ì „ë‚¨', address: 'ì „ë‚¨ ëª©í¬ì‹œ ì˜ì‚°ë¡œ 25' },
      { name: 'í–‰ë³µì¶©ì „ì†Œ', count: 8, region: 'ìš¸ì‚°', address: 'ìš¸ì‚° ë‚¨êµ¬ ì‚¼ì‚°ë¡œ 150' },
      { name: 'ì œì£¼ë³µê¶Œë°©', count: 7, region: 'ì œì£¼', address: 'ì œì£¼ ì œì£¼ì‹œ ì¤‘ì•™ë¡œ 1' },
      { name: 'ê´‘ì£¼ë¡œë˜', count: 7, region: 'ê´‘ì£¼', address: 'ê´‘ì£¼ ë¶êµ¬ ë¬´ë“±ë¡œ 200' },
      { name: 'ì¶©ë¶í–‰ìš´', count: 6, region: 'ì¶©ë¶', address: 'ì¶©ë¶ ì²­ì£¼ì‹œ ìƒë‹¹êµ¬ 10' },
      { name: 'ì „ë¶ëŒ€ë°•', count: 6, region: 'ì „ë¶', address: 'ì „ë¶ ì „ì£¼ì‹œ ì™„ì‚°êµ¬ 5' },
      { name: 'ì¸ì²œëŒ€ê¸¸', count: 5, region: 'ì¸ì²œ', address: 'ì¸ì²œ ë‚¨ë™êµ¬ ì¸ì£¼ëŒ€ë¡œ 100' },
      { name: 'ë¶€ì‚°ëŒ€ë°•', count: 5, region: 'ë¶€ì‚°', address: 'ë¶€ì‚° í•´ìš´ëŒ€êµ¬ ì¤‘ë™ 1' },
      { name: 'ì„œìš¸ë¡œë˜íŒŒí¬', count: 4, region: 'ì„œìš¸', address: 'ì„œìš¸ ë§ˆí¬êµ¬ ì–‘í™”ë¡œ 10' },
      { name: 'ê²½ê¸°ë“œë¦¼', count: 4, region: 'ê²½ê¸°', address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ 20' },
      { name: 'ê²½ë¶ë¡œë˜íŒ¡', count: 3, region: 'ê²½ë¶', address: 'ê²½ë¶ í¬í•­ì‹œ ë¶êµ¬ 30' },
      { name: 'ê°•ì›í–‰ìš´ê¶Œ', count: 3, region: 'ê°•ì›', address: 'ê°•ì› ì›ì£¼ì‹œ ì›ì¼ë¡œ 50' },
      { name: 'ëŒ€ì „ë¡œë˜ì„¸ìƒ', count: 2, region: 'ëŒ€ì „', address: 'ëŒ€ì „ ìœ ì„±êµ¬ ëŒ€í•™ë¡œ 80' },
      { name: 'ìš¸ì‚°í™©ê¸ˆì†', count: 2, region: 'ìš¸ì‚°', address: 'ìš¸ì‚° ì¤‘êµ¬ ë²ˆì˜ë¡œ 120' },
      { name: 'ì œì£¼ë“œë¦¼', count: 1, region: 'ì œì£¼', address: 'ì œì£¼ ì„œê·€í¬ì‹œ ì¤‘ì •ë¡œ 5' }
    ].sort((a,b) => b.count - a.count);

    let currentPage = 1;
    const itemsPerPage = 20;
    let filteredStores = [...STORES];

    function initCharts() {
      lucide.createIcons();
      const chartOptions = { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, grid: { color: '#f1f5f9' }, ticks: { font: { size: 10 } } }, x: { grid: { display: false }, ticks: { font: { size: 10 } } } } };
      new Chart(document.getElementById('dayChart'), { type: 'bar', data: { labels: DAY_DATA.labels, datasets: [{ data: DAY_DATA.values, backgroundColor: '#3b82f6', borderRadius: 6 }] }, options: chartOptions });
      new Chart(document.getElementById('hourChart'), { type: 'line', data: { labels: HOUR_DATA.labels, datasets: [{ data: HOUR_DATA.values, borderColor: '#f59e0b', tension: 0.4, fill: true, backgroundColor: 'rgba(245, 158, 11, 0.05)' }] }, options: chartOptions });
      new Chart(document.getElementById('ratioChart'), { type: 'doughnut', data: { labels: RATIO_DATA.labels, datasets: [{ data: RATIO_DATA.values, backgroundColor: ['#3b82f6', '#10b981', '#f59e0b'], borderWidth: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { boxWidth: 10, font: { size: 10 } } } } } });
      
      updateList();
    }

    function updateList() {
      const query = document.getElementById('storeSearch').value.toLowerCase();
      const region = document.getElementById('regionFilter').value;
      
      filteredStores = STORES.filter(s => {
        const matchRegion = (region === 'ì „ì²´' || s.region === region);
        const matchName = s.name.toLowerCase().includes(query) || s.address.toLowerCase().includes(query);
        return matchRegion && matchName;
      });

      currentPage = 1;
      renderStores();
    }

    function renderStores() {
      const body = document.getElementById('storeTableBody');
      const noResult = document.getElementById('noResult');
      
      const start = (currentPage - 1) * itemsPerPage;
      const end = start + itemsPerPage;
      const paginatedItems = filteredStores.slice(start, end);

      if (filteredStores.length === 0) {
        body.innerHTML = '';
        noResult.style.display = 'block';
        document.getElementById('pagination').innerHTML = '';
        return;
      }

      noResult.style.display = 'none';
      body.innerHTML = paginatedItems.map((s, i) => {
        const rank = start + i + 1;
        let rankClass = '';
        if (rank === 1) rankClass = 'rank-1';
        else if (rank === 2) rankClass = 'rank-2';
        else if (rank === 3) rankClass = 'rank-3';

        return `
          <tr>
            <td><span class="rank-badge ${rankClass}">${rank}</span></td>
            <td style="font-weight:700; color:var(--primary-color);">${s.name}</td>
            <td><span class="count-badge">${s.count}íšŒ</span></td>
            <td><span class="region-badge">${s.region}</span></td>
            <td>
              <a href="https://map.kakao.com/?q=${encodeURIComponent(s.address)}" target="_blank" class="address-link">
                ${s.address} <i data-lucide="external-link" style="width:12px; height:12px;"></i>
              </a>
            </td>
          </tr>
        `;
      }).join('');
      
      renderPagination();
      lucide.createIcons();
    }

    function renderPagination() {
      const container = document.getElementById('pagination');
      const totalPages = Math.ceil(filteredStores.length / itemsPerPage);
      if (totalPages <= 1) { container.innerHTML = ''; return; }

      let html = `<button class="page-btn ${currentPage === 1 ? 'disabled' : ''}" onclick="changePage(${currentPage-1})">ì´ì „</button>`;
      for (let i = 1; i <= totalPages; i++) {
        html += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</button>`;
      }
      html += `<button class="page-btn ${currentPage === totalPages ? 'disabled' : ''}" onclick="changePage(${currentPage+1})">ë‹¤ìŒ</button>`;
      container.innerHTML = html;
    }

    window.changePage = (page) => {
      const totalPages = Math.ceil(filteredStores.length / itemsPerPage);
      if (page < 1 || page > totalPages) return;
      currentPage = page;
      renderStores();
      document.querySelector('.store-section').scrollIntoView({ behavior: 'smooth' });
    };

    document.getElementById('storeSearch').addEventListener('input', updateList);
    document.getElementById('regionFilter').addEventListener('change', updateList);
    window.onload = initCharts;
  </script>
</body>
</html>
